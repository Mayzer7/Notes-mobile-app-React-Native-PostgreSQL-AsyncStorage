
# Мобильное приложение заметок - Notes

![1 (1)](https://github.com/user-attachments/assets/33ac22b3-5494-4d1c-9e34-a1dbfeab077f)
![2 (2)](https://github.com/user-attachments/assets/4b1f3721-32cc-4073-844e-4f1c8911aed9)
![3 (3)](https://github.com/user-attachments/assets/7b65d731-3e91-465e-96e0-115e12fd204b)
![4 (4)](https://github.com/user-attachments/assets/797aeba5-4248-4aaf-8b8a-6ce401ab5767)
![5 (5)](https://github.com/user-attachments/assets/d136884f-9279-4942-8959-ee5c08c846a0)

## Описание

Мобильное приложение на React Native для создания и управления заметками. Приложение использует базу данных PostgreSQL для хранения информации о пользователях и их заметках и AsyncStorage для хранения состояний пользователя и кеширования.

---

## Логика приложения

Приложение использует два ключевых компонента для работы с данными и состоянием пользователя: PostgreSQL и AsyncStorage.

**Кеширование через AsyncStorage**

Все данные пользователя (включая заметки) кешируются с использованием AsyncStorage. Это позволяет значительно ускорить работу приложения, так как данные, которые часто запрашиваются, остаются на устройстве и не требуют постоянного обращения к серверу. Помимо заметок, в AsyncStorage также хранятся состояния пользователя, такие как отметки выполненых задач.

**Работа с заметками**

Заметки пользователя запрашиваются на неделю вперед. Каждая заметка сохраняется в базе данных и привязывается к конкретному пользователю и дню. Заметки каждого дня хранятся в одном длинном массиве, что облегчает работу с данными и их последующую обработку. При запросе заметок на неделю приложение отправляет запрос на сервер, который получает все заметки на текущую неделю, а затем сохраняет их в AsyncStorage для быстрого доступа.

---

## Локальный запуск приложения

Для локального запуска приложения выполните следующие шаги.

### 1. Клонирование проекта

Клонируйте репозиторий на свой компьютер, используя команду:

```bash
git clone https://github.com/Mayzer7/notes-app.git
```

**Примечание:**  
Не клонируйте проект в папку, путь которой содержит кириллицу, например:  
`"C:\Users\Mayzer\OneDrive\<u>Рабочий стол</u>\MYPROJECT"`. Это может вызвать проблемы с запуском Expo.

---

## Создание базы данных и таблиц в PostgreSQL

1. **Настройка базы данных:**

    База данных описана в файле `server/db.js`. Создайте базу данных с этими настройками или измените параметры подключения в соответствии с вашей конфигурацией.

    ```javascript
    const pool = new Pool({
      user: 'notes',
      host: 'localhost',
      database: 'notes',
      password: 'notes',
      port: 5432,
    });
    ```

2. **Создание таблиц:**

    После создания базы данных создайте таблицы с помощью следующих SQL-запросов:

    ```sql
    CREATE TABLE users (
        id SERIAL PRIMARY KEY, -- уникальный идентификатор пользователя
        name VARCHAR(100) NOT NULL, -- имя пользователя
        email VARCHAR(255) NOT NULL UNIQUE, -- email пользователя
        password VARCHAR(255) NOT NULL, -- хешированный пароль
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- дата добавления (по умолчанию текущая дата и время)
    );

    CREATE TABLE notes (
        id INT REFERENCES users(id),  -- ID пользователя (может повторяться)
        content TEXT,
        date DATE
    );
    ```

3. **Настройка переменной с IP-адресом:**

    В файле `utils/api.js` укажите ваш **IPv4-адрес** для переменной `BASE_URL`:

    ```javascript
    export const BASE_URL = 'http://your_IPv4_address:3000';
    ```

    Чтобы узнать свой IPv4-адрес, выполните команду `ipconfig` в командной строке.

---

## Установка зависимостей

Необходимо установить клиентские и серверные модули.

1. Откройте терминал в корне проекта и выполните команду:

    ```bash
    npm install
    ```

2. Перейдите в папку `server` и установите серверные зависимости:

    ```bash
    cd server
    npm install
    ```

---

## Запуск сервера

1. Откройте терминал и перейдите в папку `server`:

    ```bash
    cd server
    ```

2. Запустите сервер с помощью команды:

    ```bash
    node server.js
    ```

Теперь сервер запущен и работает!

---

## Запуск приложения

Чтобы запустить приложение, выполните команду:

```bash
npx expo start
```

Это откроет Expo в браузере, и вы сможете запустить приложение на устройстве или эмуляторе.

---

Если возникнут проблемы с установкой или запуском, проверьте, что все зависимости установлены корректно и все настройки базы данных соответствуют вашим локальным параметрам.





